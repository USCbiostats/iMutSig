{
    "collab_server" : "",
    "contents" : "library(shiny)\nlibrary(dplyr)\nlibrary(rvest)\nlibrary(DT)\nlibrary(shinythemes)\nlibrary(shinyjs)\n\n\nsource('functions/extraFunctions.R')\nsource(\"Background.R\")\n\nlibrary(shinydashboard)\n\nui <- dashboardPage(\n  \n    header <- dashboardHeader(\n      title = \"iMutSig: identifying the most similar mutational signature\",\n      titleWidth = 550,\n      dropdownMenuOutput(\"menu\")\n    ),\n    \n\n    sidebar <- dashboardSidebar(    \n      sidebarMenu(\n      id=\"mysidebar\",\n      menuItem(\"COSMIC to pmsignature\", icon = icon(\"chart-bar\"), tabName = \"page1\"),\n      menuItem(\"pmsignature to COSMIC\", icon = icon(\"cube\"), tabName = \"page2\"),\n      menuItem(\"Input a signature\", icon = icon(\"sign-in-alt\"),  startExpanded = TRUE,\n               menuSubItem('COSMIC signature', tabName = 'page3'),\n               menuSubItem('pmsignature', tabName = 'page4')\n        ), \n      menuItem(\"About iMutSig\", icon = icon(\"info-circle\"), tabName = \"page5\")\n      )\n    ), \n      \n    \n    body <- dashboardBody(\n      tags$head(tags$style(HTML('\n        .skin-blue .main-header .logo {\n          background-color: #222D32;\n        }\n        .skin-blue .main-header .logo:hover {\n          background-color: #222D32;\n        }\n        .skin-blue .main-header .navbar {\n          background-color: #222D32;\n        }\n        \n      '))),\n\n      useShinyjs(),\n      \n      tabItems(\n        tabItem(tabName = \"page1\",\n                # 1st row \n                fluidRow(\n                  box(\n                    width = 5, \n                    title = paste(\"Chosen a COSMIC signature\"),\n                    plotOutput(\"selected_sig_1\", height = 200)\n                  ),\n                  \n                  box(\n                    width = 7, \n                    title = \"Its membership among 40 cancer types\", \n                    plotOutput(\"corrplot1_2\", height = 200)\n                  )\n                ),\n                \n                # 2nd row \n                fluidRow(\n                  box(width = 4,\n                      style=\"font-size:120%\",\n                      dataTableOutput(\"mytable1\")\n                  ),\n                  \n                  box(width = 8, \n                      title = \"Its cosine similarity to the pmsignatures\",\n                      plotOutput(\"corrplot1_1\", height = 180))\n                ),\n                \n                fluidRow(\n                  valueBox(width = 2, color = \"black\",\n                           \"Choose\", \"a COSMIS signature\"),\n                  \n                  box(width = 2, height = \"100px\",\n                      selectInput(inputId = \"N_F\", label=\"COSMIC\",\n                                  choices = paste0(\"C\",1:30),\n                                  selected = 1)\n                  ),\n                  \n                  valueBoxOutput(width = 2,\n                                 \"selected1_1\"),\n                  \n                  valueBoxOutput(width = 2,\n                                 \"highest\"),\n                  \n                  valueBoxOutput(width = 2,\n                                 \"selected1_2\"),\n                  \n                  box(width = 2, height = \"100px\",\n                      selectInput(inputId = \"N_S_D\", label=\"pmsignature\",\n                                  choices = paste0(\"P\",1:27),\n                                  selected = 3)\n                  )\n                ),\n                \n                # 3nd row \n                fluidRow(\n                  box( \n                    width = 4,\n                    title = \"COSMIC signature:\",\n                    status = \"primary\", solidHeader = TRUE,\n                    uiOutput(\"selected_sig_text_1\")\n                  ),\n                \n                  box(\n                    width = 6,\n                    plotOutput(\"selected_sig_full_1\", height = 180)\n                  ),\n                  \n                  box(\n                    width = 2\n                  )\n\n                ),\n                \n                fluidRow(\n                  box(\n                    width = 4,             \n                    status = \"success\", solidHeader = TRUE,\n                    title = \"Most similar pmsignature:\",\n                    uiOutput(paste0('selected_sig_text_1_', 1))\n                  ), \n                  \n                  box(\n                    width = 6, \n                    plotOutput(paste0('selected_sig_pm_full_1_', 1), height = 180)\n                  ),\n                  \n                  box(\n                    width = 2,                                 \n                    plotOutput(paste0('selected_sig_full_1_', 1), height = 180)\n                  )\n                ), \n                \n                fluidRow(\n                  box(\n                    width = 4, \n                    title = \"Selected pmsignature:\",\n                    status = \"warning\", solidHeader = TRUE,\n                    uiOutput(paste0('selected_sig_text_1_', 2))\n                  ), \n\n                  box(\n                    width = 6,\n                    plotOutput(paste0('selected_sig_pm_full_1_', 2), height = 180)\n                  ),\n                  \n                  box(\n                    width = 2,                                 \n                    plotOutput(paste0('selected_sig_full_1_', 2), height = 180)\n                  )\n                )\n        ),\n\n        tabItem(tabName = \"page2\",\n                # First tab content\n                fluidRow(\n                  box(\n                    width = 4,\n                    title = paste(\"Chosen pmsignature\"),\n                    plotOutput(\"selected_sig_2\", height = 200)\n                  ),\n                  \n                  box(\n                    width = 8, \n                    title = \"Its membership among 30 cancer types\",\n                    plotOutput(\"corrplot2_1\", height = 200)\n                  )\n                  \n                ),\n                \n                # 2nd Row \n                \n                fluidRow(\n                  box(width = 4,\n                      style=\"font-size:120%\",\n                      dataTableOutput(\"mytable2\")\n                  ),\n                  \n                  box(width = 8, \n                      title = \"Its cosine similarity to the COSMIC signatures\",\n                      plotOutput(\"corrplot2_2\", height = 200))\n                ),\n                \n                # 3rd Row\n                \n                fluidRow(\n                  valueBox(width = 2, color = \"black\",\n                           \"Choose\", \"a pmsignature\"),\n                  \n                  box(width = 2, height = \"100px\",\n                      selectInput(inputId = \"N_D\", label=\"pmsignature\",\n                                  choices = paste0(\"P\",1:27),\n                                  selected = 1)\n                      \n                  ),\n                  \n                  valueBoxOutput(width = 2,\n                                 \"selected2_1\"),\n                  \n                  \n                  valueBoxOutput(width = 2,\n                                 \"highest2\"),\n                  \n                  valueBoxOutput(width = 2,\n                                 \"selected2_2\"),\n                  \n                  box(width = 2, height = \"100px\",\n                      selectInput(inputId = \"N_D_S\", label=\"COSMIC\",\n                                  choices = paste0(\"C\",1:30),\n                                  selected = 3)\n                  )\n                ),\n                \n              \n                fluidRow(\n                  box(\n                    width = 4,\n                    title = \"pmsignature in COSMIC signature style:\",\n                    status = \"primary\", solidHeader = TRUE,\n                    uiOutput(\"selected_sig_text_2\")\n                  ), \n                  \n                  box(\n                    width = 6, \n                    plotOutput(\"selected_sig_full_2\", height = 180)\n                  ), \n                  \n                  box(\n                    width = 2, \n                    plotOutput(\"selected_sig_2_1\", height = 180)\n                  )\n                  \n                ),\n                \n                \n                fluidRow(\n                  box(\n                    width = 4,             \n                    status = \"success\", solidHeader = TRUE,\n                    title = \"Most similar COSMIC signature:\",\n                    uiOutput(paste0('selected_sig_text_2_', 1))\n                  ), \n                  \n                  box(\n                    width = 6, \n                    plotOutput(paste0('selected_sig_full_2_', 1), height = 180)\n                  ),\n                  \n                  box(\n                    width = 2\n                  )\n                ), \n                \n                fluidRow(\n                  box(\n                    width = 4, \n                    title = \"Selected COSMIC signature:\",\n                    status = \"warning\", solidHeader = TRUE,\n                    uiOutput(paste0('selected_sig_text_2_', 2))\n                  ), \n                  \n                  box(\n                    width = 6,\n                    plotOutput(paste0('selected_sig_full_2_', 2), height = 180)\n                  ), \n                  \n                  box(\n                    width = 2\n                  )\n                )\n        ),\n        \n        tabItem(tabName = \"page3\",\n                fluidRow( \n                  box(height = \"280px\",\n                      title = \"About input:\", status = \"warning\", solidHeader = TRUE,\n                      width = 4, \n                      \"Please prepare a CSV file by putting your pmsignature into a column with no quotes.\",\n                      downloadButton('downloadData', label = \"Download a sample CSV file\", class = NULL),\n                      br(), br(),\n                      fileInput(\"file1\", \"Choose CSV File\",\n                                multiple = TRUE,\n                                accept = c(\"text/csv\",\n                                           \"text/comma-separated-values,text/plain\",\n                                           \".csv\")),\n                      checkboxInput(\"header1\", \"Header\", TRUE)\n                      \n                  ), \n                  \n                  column(width = 4, \n                    box(width = NULL, height = \"280px\",\n                        title = \"COSMIS signature\",\n                        status = \"primary\", solidHeader = TRUE,\n                        style=\"font-size:130%\",\n                        dataTableOutput(\"fu_table\")\n                    )\n                  ),\n                  \n                  column(width = 4, \n                     box(width = NULL, height = \"280px\",\n                         title = \"pmsignature\", \n                         status = \"success\", solidHeader = TRUE,\n                         style=\"font-size:130%\",\n                         dataTableOutput(\"fu_table2\")\n                    )\n                  )\n                ),\n                \n\n                \n                fluidRow(\n                  box(width = 4, \n                      title = \"Input COSMIC signature\", status = \"warning\", solidHeader = TRUE,\n                      plotOutput(\"similar_full\", height = 170)\n                  ), \n                  \n                  box(width = 4,\n                      title = textOutput(\"fu_text\"), \n                      status = \"primary\", solidHeader = TRUE,\n                      plotOutput(\"fu_plot\", height = 170)\n                  ), \n                  \n                  box(width = 4,\n                      title = textOutput(\"fu_text2\"), \n                      status = \"success\", solidHeader = TRUE,\n                      plotOutput(\"fu_plot2\", height = 170)\n                  )\n                ), \n                \n                fluidRow(\n                  column(width = 4, offset = 4, \n                         valueBoxOutput(width = NULL, \"fu_box\")\n                  ),\n                  column(width = 4,  \n                         valueBoxOutput(width = NULL, \"fu_box2\"))\n                ), \n                \n                fluidRow(\n                  column(width = 4),\n                  \n                  box(width = 8, title=\"Cancer membership in both COSMIC and pmsignature\",  \n                      status = \"danger\", solidHeader = TRUE,\n                         uiOutput(paste0('selected_sig_text_3_', 1))\n                  )\n                ),\n                \n                fluidRow(\n                  column(width = 4), \n                  \n                  box(width = 4, title=\"Cancer membership only in COSMIC\", status = \"primary\", \n                      solidHeader = TRUE,\n                      uiOutput(paste0('selected_sig_text_3_', 2))\n                  ),\n                  \n                  box(width = 4, title=\"Cancer membership only in pmsignature\", status = \"success\", \n                      solidHeader = TRUE,\n                      uiOutput(paste0('selected_sig_text_3_', 3))\n                  )\n                )\n        ), \n        \n        tabItem(tabName = \"page4\",\n              fluidRow( \n                 box(height = \"280px\",\n                   title = \"About input:\", status = \"warning\", solidHeader = TRUE,\n                   width = 4, \n                   \"Please prepare a CSV file by putting your pmsignature into a matrix with no quotes.\",\n                   downloadButton('downloadData2', label = \"Download a sample CSV file\", class = NULL),\n                   br(), br(),\n                   fileInput(\"file2\", \"Choose CSV File\",\n                             multiple = TRUE,\n                             accept = c(\"text/csv\",\n                                        \"text/comma-separated-values,text/plain\",\n                                        \".csv\")),\n                   checkboxInput(\"header2\", \"Header\", TRUE)\n                   \n                 ), \n                 \n                 box(width = 4, height = \"280px\",\n                     title = \"pmsignature\",\n                     status = \"primary\", solidHeader = TRUE,\n                     style=\"font-size:130%\",\n                     dataTableOutput(\"pm_table\")\n                 ), \n                 \n                 box(width = 4, height = \"280px\",\n                     title = \"COSMIC signature\", \n                     status = \"success\", solidHeader = TRUE,\n                     style=\"font-size:130%\",\n                     dataTableOutput(\"pm_table2\")\n                 )\n              ),\n              \n\n                \n              fluidRow(\n                box(width = 4, \n                    title = \"Input a pmsignature\", status = \"warning\", solidHeader = TRUE,\n                    plotOutput(\"similar_pm\", height = 200)\n                ), \n                \n                box(width = 4,\n                    title = textOutput(\"pm_text\"), \n                    status = \"primary\", solidHeader = TRUE,\n                    plotOutput(\"pm_plot\", height = 200)\n                ), \n                \n                box(width = 4,\n                    title = textOutput(\"pm_text2\"), \n                    status = \"success\", solidHeader = TRUE,\n                    plotOutput(\"pm_plot2\", height = 200)\n                )\n              ), \n              \n              fluidRow(\n                column(width = 4, offset = 4, \n                       valueBoxOutput(width = NULL, \"pm_box\")\n                ),\n                valueBoxOutput(width = 4, \"pm_box2\")\n              ), \n              \n              fluidRow(\n                column(width = 4),\n                \n                box(width = 8, title=\"Cancer membership in both COSMIC and pmsignature\",  status = \"danger\", solidHeader = TRUE,\n                    uiOutput(paste0('selected_sig_text_4_', 1))\n                )\n              ),\n              \n              fluidRow(\n                column(width = 4), \n                \n                box(width = 4, title=\"Cancer membership only in pmsignature\", status = \"primary\", solidHeader = TRUE,\n                    uiOutput(paste0('selected_sig_text_4_', 2))\n                ),\n                \n                box(width = 4, title=\"Cancer membership only in COSMIC\", status = \"success\", solidHeader = TRUE,\n                    uiOutput(paste0('selected_sig_text_4_', 3))\n                )\n              )\n            ),\n        \n        tabItem(tabName = \"page5\",\n                \n                # box(width = 4, title = \"The iMutSig R pacakage\",\n                #     h3(textOutput(\"caption\"))\n                # ), \n                # \n                # box(width = 4, title = \"Publication\",\n                #     h3(textOutput(\"caption\"))\n                # ), \n                # \n                # box(width = 4, title = \"Contact Author\",\n                #     h3(textOutput(\"caption\"))\n                # ),\n                \n                fluidRow(\n                box(width = 4, title = \"About iMutSig\", status = \"danger\", solidHeader = TRUE,\n                    tags$h3(\"This Shiny app is dependent on:\"),\n                    h4(\"- Catalogue of Somatic Mutations in Cancer (COSMIC).\"),\n                    h4(\"- pmsignature developed by Shiraishi et al.\"),\n                    br(),\n                    actionButton(\"about1\",\n                                 label = \"COSMIC\",\n                                 icon = icon(\"laptop\"),\n                                 onclick = sprintf(\"window.open('%s')\", \"https://cancer.sanger.ac.uk/cosmic\")),\n                    actionButton(\"about2\",\n                                 label = \"pmsignature\",\n                                 icon = icon(\"github\"),\n                                 onclick = sprintf(\"window.open('%s')\", \"https://github.com/friend1ws/pmsignature\"))\n                ),                \n                \n                box(width = 4, title = \"R Package\", status = \"primary\", solidHeader = TRUE,\n                    tags$h3(\"On the Github page, you can: \"),\n                    h4(\"- install the iMutSig R pacakge and run it locally.\"),\n                    h4(\"- report any issues and leave suggestions.\"),\n                    br(),\n                    actionButton(\"R1\",\n                                 label = \"Download\",\n                                 icon = icon(\"github\"),\n                                 onclick = sprintf(\"window.open('%s')\", \"http://www.github.com/USCbiostats/iMutSig\")),\n                    actionButton(\"R2\",\n                                 label = \"Issues\",\n                                 icon = icon(\"bug\"),\n                                 onclick = sprintf(\"window.open('%s')\", \"http://www.github.com/USCbiostats/iMutSig/issues\"))                    \n                    ),\n                \n                box(width = 4, title = \"Share\", status = \"success\", solidHeader = TRUE,\n                    tags$h3(\"We're glad that you found iMutSig helpful.\"),\n                    h4(\"- please tweet about us.\"),\n                    h4(\"- please cite our paper.\"),\n                    br(),\n                    actionButton(\"share1\",\n                                 label = \"Share\",\n                                 icon = icon(\"twitter\"),\n                                 onclick = sprintf(\"window.open('%s')\", url_share)), \n                    actionButton(\"share2\",\n                                 label = \"Cite\",\n                                 icon = icon(\"edit\"),\n                                 onclick = sprintf(\"window.open('%s')\", url_cite))\n                    )\n              )\n            )        \n        \n        ) \n      \n      ),\n    \n    \n    dashboardPage(header, sidebar, body)\n    \n)\n\n",
    "created" : 1551221300952.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2490006129",
    "id" : "F195DB8E",
    "lastKnownWriteTime" : 1554178780,
    "last_content_update" : 1554178780,
    "path" : "/Volumes/GoogleDrive/My Drive/Project 4 - Tumor modeling/Github/P4-TumorModeling/Zhi_Scripts/iMutSig/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}